# -*- mode: python -*-
# -*- coding: utf-8 -*-

# what module set should be used.  The default can be found in
# jhbuild/defaults.jhbuildrc, but can be any file in the modulesets directory
# or a URL of a module set file on a web server.
moduleset = ['gnome-apps-3.10', os.path.expanduser('~/eos.modules')]
#
# A list of the modules to build.  Defaults to the GNOME core and tested apps.
modules = ['meta-gnome-core-shell', 'meta-eos-core', 'meta-eos-apps', 'eos-obs-build', 'devhelp', 'sushi']

skip = ['WebKit']

# what directory should the source be checked out to?
checkoutroot = '~/checkout'

# the prefix to configure/install modules to (must have write access)
prefix = '~/install'

branches['libevdev'] = (None, 'libevdev-0.5')
branches['gnome-bluetooth'] = (None, 'gnome-3-10')
branches['cheese'] = (None, 'gnome-3-10')
branches['xwayland'] = (None, 'xwayland-1.12')
branches['mutter-wayland'] = (None, 'gnome-3-10')

# this isn't in ubuntu yet
module_autogenargs['ModemManager'] = '--without-mbim'
module_autogenargs['bluez'] = '--disable-systemd'

# are these necessary?
module_autogenargs['gjs'] = '--enable-debug=yes --enable-gtk-doc'
module_autogenargs['glib'] = '--enable-debug=yes --enable-gtk-doc'
module_autogenargs['gtk+'] = '--enable-debug=yes --enable-gtk-doc --disable-wayland-backend'
module_autogenargs['gtksourceview'] = '--enable-debug=yes --enable-gtk-doc'
module_autogenargs['gdk-pixbuf'] = '--enable-debug=yes --enable-gtk-doc'
module_autogenargs['cogl'] = '--enable-debug=yes --enable-gtk-doc'
module_autogenargs['clutter'] = '--enable-debug=yes --enable-gtk-doc'
module_autogenargs['clutter-gtk'] = '--enable-debug=yes --enable-gtk-doc'

module_autogenargs['eos-sdk'] = '--enable-gtk-doc --enable-gir-doc --enable-strict-flags --enable-js-doc'
module_autogenargs['eos-knowledge-lib'] = '--enable-gtk-doc --enable-gir-doc --enable-js-doc'
module_autogenargs['eos-metrics'] = '--enable-gtk-doc --enable-strict-flags'
module_autogenargs['gstreamer'] = '--enable-gtk-doc'
module_autogenargs['evince'] = '--enable-gtk-doc --enable-pdf'
module_autogenargs['clutter-gst'] = '--enable-gtk-doc'

# custom CFLAGS / environment pieces for the build
os.environ['CFLAGS'] = '-g -O0'

# extra arguments to pass to all autogen.sh scripts
# to speed up builds of GNOME, try '--disable-static --disable-gtk-doc'
#autogenargs=''

# A string listing additional arguments to be passed to make.
# Set makeargs to 'V=1' for verbose build output.
#makeargs = ''
